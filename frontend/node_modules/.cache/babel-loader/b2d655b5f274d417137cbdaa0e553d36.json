{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Documents\\\\Car-trade-app\\\\frontend\\\\src\\\\components\\\\DropDown\\\\SearchableDropDown\\\\SearchableDropDown.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport \"./SearchableDropDown.css\";\nimport { useDispatch } from \"react-redux/es/hooks/useDispatch\";\nimport { addModelsAC } from \"../../../Global/actions/dropdownActions\";\nimport { useOutsideClick } from \"../../../utils/useOutsideClick\";\nimport { useToggle } from \"../../../utils/useTogle\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchableDropDown = _ref => {\n  _s();\n\n  var _value$name, _dropdownFilter;\n\n  let {\n    disabled,\n    options,\n    name,\n    placeholder,\n    value,\n    onChange,\n    handleReset\n  } = _ref;\n  const [toggle, handleToggle, setToggleStatus] = useToggle();\n  const [query, setQuery] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const handleClose = () => {\n    setToggleStatus(false);\n    setQuery(\"\");\n  };\n\n  const ref = useOutsideClick(handleClose, toggle);\n\n  const dropdownFilter = options => {\n    return options === null || options === void 0 ? void 0 : options.filter(option => option.name.toLowerCase().includes(query));\n  };\n\n  const displayValue = (query, name) => {\n    if (query.length > 0) return query;\n    if (value[name]) return value[name];\n    return \"\";\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dropdown\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `selected-value ${disabled ? \"opacity\" : null} `,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"search-input\",\n          placeholder: placeholder,\n          value: displayValue(query, name),\n          disabled: disabled,\n          onChange: e => {\n            setQuery(e.target.value);\n          },\n          ref: ref,\n          onClick: handleToggle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: (value === null || value === void 0 ? void 0 : (_value$name = value[name]) === null || _value$name === void 0 ? void 0 : _value$name.length) > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          name: name,\n          onClick: e => {\n            handleReset(e);\n            setQuery(\"\");\n            dispatch(addModelsAC(null));\n          },\n          children: \"x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"arrow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), toggle ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"options\",\n      children: (_dropdownFilter = dropdownFilter(options)) === null || _dropdownFilter === void 0 ? void 0 : _dropdownFilter.map((option, index) => {\n        return option.subModels ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"optgroup\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"label\",\n            children: option.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), option.subModels.map((option, index) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option\",\n              name: name,\n              value: option.name,\n              onClick: e => {\n                setQuery(\"\");\n                onChange(e);\n                setToggleStatus(false);\n              },\n              children: option\n            }, index.toString(), false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 21\n            }, this);\n          })]\n        }, option.name.toString(), true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"option\",\n          name: name,\n          value: option.name,\n          onClick: e => {\n            setQuery(\"\");\n            onChange(e);\n            setToggleStatus(false);\n            const mark = options === null || options === void 0 ? void 0 : options.find(mark => mark.name === option.name);\n\n            if (mark !== null && mark !== void 0 && mark.models) {\n              dispatch(addModelsAC(mark.models));\n            }\n          },\n          children: option === null || option === void 0 ? void 0 : option.name\n        }, index.toString(), false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchableDropDown, \"uMpZZfwNtQ4pNuEwaTaw9VaNC6s=\", false, function () {\n  return [useToggle, useDispatch, useOutsideClick];\n});\n\n_c = SearchableDropDown;\nexport default SearchableDropDown;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchableDropDown\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","useDispatch","addModelsAC","useOutsideClick","useToggle","SearchableDropDown","disabled","options","name","placeholder","value","onChange","handleReset","toggle","handleToggle","setToggleStatus","query","setQuery","dispatch","handleClose","ref","dropdownFilter","filter","option","toLowerCase","includes","displayValue","length","e","target","map","index","subModels","toString","mark","find","models"],"sources":["C:/Users/ASUS/Documents/Car-trade-app/frontend/src/components/DropDown/SearchableDropDown/SearchableDropDown.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport \"./SearchableDropDown.css\";\r\nimport { useDispatch } from \"react-redux/es/hooks/useDispatch\";\r\nimport { addModelsAC } from \"../../../Global/actions/dropdownActions\";\r\nimport { useOutsideClick } from \"../../../utils/useOutsideClick\";\r\nimport { useToggle } from \"../../../utils/useTogle\";\r\n\r\nconst SearchableDropDown = ({\r\n  disabled,\r\n  options,\r\n  name,\r\n  placeholder,\r\n  value,\r\n  onChange,\r\n  handleReset\r\n}) => {\r\n  const [toggle, handleToggle, setToggleStatus] = useToggle();\r\n  const [query, setQuery] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const handleClose = () => {\r\n    setToggleStatus(false);\r\n    setQuery(\"\");\r\n  };\r\n  const ref = useOutsideClick(handleClose, toggle);\r\n  const dropdownFilter = (options) => {\r\n    return options?.filter((option) =>\r\n      option.name.toLowerCase().includes(query)\r\n    );\r\n  };\r\n\r\n  const displayValue = (query, name) => {\r\n    if (query.length > 0) return query;\r\n    if (value[name]) return value[name];\r\n    return \"\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"dropdown\">\r\n      <div className=\"control\">\r\n        <div className={`selected-value ${disabled ? \"opacity\" : null} `}>\r\n          <input\r\n            type=\"text\"\r\n            className=\"search-input\"\r\n            placeholder={placeholder}\r\n            value={displayValue(query, name)}\r\n            disabled={disabled}\r\n            onChange={(e) => {\r\n              setQuery(e.target.value);\r\n            }}\r\n            ref={ref}\r\n            onClick={handleToggle}\r\n          />\r\n        </div>\r\n        <div>\r\n          {value?.[name]?.length > 1 && (\r\n            <button\r\n              name={name}\r\n              onClick={(e) => {\r\n                handleReset(e)\r\n                setQuery(\"\");\r\n                dispatch(addModelsAC(null));\r\n              }}\r\n            >\r\n              x\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"arrow\"></div>\r\n      </div>\r\n      {toggle ? (\r\n        <div className=\"options\">\r\n          {dropdownFilter(options)?.map((option, index) => {\r\n            return option.subModels ? (\r\n              <div className=\"optgroup\" key={option.name.toString()}>\r\n                <div className=\"label\">{option.name}</div>\r\n                {option.subModels.map((option, index) => {\r\n                  return (\r\n                    <div\r\n                      className=\"option\"\r\n                      name={name}\r\n                      key={index.toString()}\r\n                      value={option.name}\r\n                      onClick={(e) => {\r\n                        setQuery(\"\");\r\n                        onChange(e);\r\n                        setToggleStatus(false);\r\n                      }}\r\n                    >\r\n                      {option}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : (\r\n              <div\r\n                className=\"option\"\r\n                  name={name}\r\n                  value={option.name}\r\n                key={index.toString()}\r\n                onClick={(e) => {\r\n                  setQuery(\"\");\r\n                  onChange(e);\r\n                  setToggleStatus(false);\r\n                  const mark = options?.find(\r\n                    (mark) => mark.name === option.name\r\n                  );\r\n                  if (mark?.models) {\r\n                    dispatch(addModelsAC(mark.models));\r\n                  }\r\n                }}\r\n              >\r\n                {option?.name}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchableDropDown;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}